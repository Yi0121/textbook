# Interactive Textbook Editor äº’å‹•å¼æ•™ç§‘æ›¸ç·¨è¼¯å™¨

ä¸€å€‹ç¾ä»£åŒ–çš„äº’å‹•å¼æ•™ç§‘æ›¸ç·¨è¼¯å¹³å°ï¼Œçµåˆ AI è¼”åŠ©åŠŸèƒ½ã€å”ä½œç™½æ¿èˆ‡è±å¯Œçš„èª²å ‚å·¥å…·ï¼Œå°ˆç‚ºæ•™å¸«èˆ‡å­¸ç”Ÿæ‰“é€ ã€‚

![React](https://img.shields.io/badge/React-19-61DAFB?logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5.9-3178C6?logo=typescript)
![Vite](https://img.shields.io/badge/Vite-Rolldown-646CFF?logo=vite)
![TailwindCSS](https://img.shields.io/badge/TailwindCSS-3.4-38B2AC?logo=tailwindcss)

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ“š æ•™ç§‘æ›¸ç·¨è¼¯
- **EPUB åŒ¯å…¥**ï¼šç›´æ¥åŒ¯å…¥ EPUB æ ¼å¼æ•™ç§‘æ›¸ï¼Œè‡ªå‹•è§£æç« ç¯€çµæ§‹
- **å¯Œæ–‡æœ¬ç·¨è¼¯**ï¼šåŸºæ–¼ Tiptap çš„æ‰€è¦‹å³æ‰€å¾—ç·¨è¼¯å™¨
- **ç•«å¸ƒç¹ªåœ–**ï¼šæ”¯æ´ç•«ç­†ã€è¢å…‰ç­†ã€æ©¡çš®æ“¦ç­‰ç¹ªåœ–å·¥å…·
- **å¿ƒæ™ºåœ–**ï¼šæ‹–æ›³å¼å¿ƒæ™ºåœ–å…ƒä»¶ï¼Œæ•´ç†çŸ¥è­˜çµæ§‹

### ğŸ¤– AI Agent ç³»çµ±
- **å¤š Agent å”ä½œ**ï¼šæ•™å¸«ã€å­¸ç”Ÿã€åˆ†æä¸‰é¡ Agent å”åŒå·¥ä½œ
- **Orchestrator æ¶æ§‹**ï¼šçµ±ä¸€è·¯ç”±èˆ‡ç®¡ç†æ‰€æœ‰ Agent
- **Tool æ“´å±•**ï¼šæ¯å€‹ Agent å¯å®šç¾©å¤šå€‹ Toolsï¼Œæ”¯æ´ Mock èˆ‡çœŸå¯¦å¯¦ä½œ
- **AI è§£é‡‹**ï¼šé¸å–æ–‡å­—å¾Œè‡ªå‹•ç”Ÿæˆç™½è©±æ–‡è§£æ
- **éš¨å ‚æ¸¬é©—**ï¼šé‡å°æ®µè½è‡ªå‹•å‡ºé¡Œ
- **å‚™èª²å¼•å°**ï¼šæ•™å­¸é‡é»èˆ‡å»¶ä¼¸é–±è®€å»ºè­°

### ğŸ›¤ï¸ AI å­¸ç¿’è·¯å¾‘ç³»çµ±
- **è¦–è¦ºåŒ–ç·¨è¼¯**ï¼šåŸºæ–¼ React Flow çš„æ‹–æ›³å¼æµç¨‹ç·¨è¼¯å™¨
- **6 ç¨®ç¯€é»é¡å‹**ï¼šç« ç¯€ã€ç·´ç¿’ã€å½±ç‰‡ã€æ¸¬é©—ã€AI å®¶æ•™ã€å”ä½œ
- **AI æ¨è–¦**ï¼šæ ¹æ“šå­¸ç”Ÿä½œç­”è¨˜éŒ„è‡ªå‹•ç”Ÿæˆå€‹äººåŒ–å­¸ç¿’è·¯å¾‘
- **è‡ªå‹•ä½ˆå±€**ï¼šDagre æ¼”ç®—æ³•è‡ªå‹•æ’åˆ—ç¯€é»
- **Undo/Redo**ï¼šå®Œæ•´çš„å¾©åŸ/é‡åšåŠŸèƒ½

### ğŸ‘¥ å”ä½œåŠŸèƒ½
- **é›»å­ç™½æ¿**ï¼šå³æ™‚å”ä½œç™½æ¿
- **è§’è‰²åˆ‡æ›**ï¼šæ•™å¸«/å­¸ç”Ÿé›™æ¨¡å¼
- **èª²å ‚å·¥å…·**ï¼šè¨ˆæ™‚å™¨ã€æŠ½ç±¤ã€å„€è¡¨æ¿

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        UI Layer                             â”‚
â”‚  Pages (16) â”‚ Components (95+) â”‚ Hooks (14)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     State Layer                             â”‚
â”‚  AgentContext â”‚ EditorContext â”‚ ContentContext â”‚ UIContext  â”‚
â”‚  CollaborationContext â”‚ LearningPathContext â”‚ Zustand       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Agent Layer                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  Orchestrator                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Teacher     â”‚ Student     â”‚ Analytics           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Agents      â”‚ Agents      â”‚ Agents              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ - Planner   â”‚ - Scaffold  â”‚ - Progress          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ - Content   â”‚ - Hint      â”‚ - Report            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ - Grouping  â”‚ - GeoGebra  â”‚ - Behavior          â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Service Layer                             â”‚
â”‚  AI Services â”‚ Adapters â”‚ Mock Data                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å®‰è£ä¾è³´
```bash
npm install
```

### é–‹ç™¼æ¨¡å¼
```bash
npm run dev
```

### å»ºç½®å°ˆæ¡ˆ
```bash
npm run build
```

### ç¨‹å¼ç¢¼æª¢æŸ¥
```bash
npm run lint
```

### åŸ·è¡Œæ¸¬è©¦
```bash
npm run test
```

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
src/
â”œâ”€â”€ agents/               # AI Agent ç³»çµ±
â”‚   â”œâ”€â”€ BaseAgent.ts     # Agent æŠ½è±¡åŸºé¡
â”‚   â”œâ”€â”€ Orchestrator.ts  # Agent ç¸½æ§æœå‹™
â”‚   â”œâ”€â”€ teacher/         # æ•™å¸«æ¨¡çµ„ (å‚™èª²ã€å…§å®¹ã€åˆ†çµ„)
â”‚   â”œâ”€â”€ student/         # å­¸ç”Ÿæ¨¡çµ„ (é·¹æ¶ã€æç¤ºã€äº’å‹•)
â”‚   â””â”€â”€ analytics/       # åˆ†ææ¨¡çµ„ (é€²åº¦ã€å ±å‘Š)
â”‚
â”œâ”€â”€ components/           # React å…ƒä»¶ (ä½¿ç”¨ Barrel Export)
â”‚   â”œâ”€â”€ common/          # å…±ç”¨å…ƒä»¶ (AIAssistantModal, canvas, chat)
â”‚   â”œâ”€â”€ collaboration/   # å”ä½œ (Whiteboard)
â”‚   â”œâ”€â”€ features/        # åŠŸèƒ½æ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ lesson-prep/    # èª²ç¨‹ç·¨è¼¯å™¨ (7 çµ„ä»¶)
â”‚   â”‚   â”œâ”€â”€ quiz/           # æ¸¬é©—ç³»çµ± (6 çµ„ä»¶)
â”‚   â”‚   â””â”€â”€ dashboard/      # å„€è¡¨æ¿
â”‚   â”œâ”€â”€ layout/          # ä½ˆå±€ (AppLayout, Navigation)
â”‚   â”œâ”€â”€ panels/          # å´é‚Šé¢æ¿
â”‚   â”œâ”€â”€ student/         # å­¸ç”Ÿè¦–è§’å…ƒä»¶
â”‚   â”œâ”€â”€ teacher/         # æ•™å¸«è¦–è§’å…ƒä»¶
â”‚   â”œâ”€â”€ tools/           # å·¥å…·åˆ—
â”‚   â”œâ”€â”€ ui/              # é€šç”¨ UI (Modal, Button, Progress, ...)
â”‚   â””â”€â”€ index.ts         # Barrel Export
â”‚
â”œâ”€â”€ context/             # React Context (6 å€‹)
â”‚
â”œâ”€â”€ hooks/               # è‡ªè¨‚ Hooks (14 å€‹)
â”‚   â””â”€â”€ index.ts         # Barrel Export
â”‚
â”œâ”€â”€ pages/               # é é¢å…ƒä»¶ (20 å€‹)
â”‚   â”œâ”€â”€ assignment/          # ä½œæ¥­é é¢å­çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Cards.tsx, BasicTabContent, AdvancedTabContent
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ division-exploration/  # é™¤æ³•æ¢ç©¶å­é é¢
â”‚   â”‚   â”œâ”€â”€ OverviewTab, AdvancedTab, types.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ services/            # æœå‹™å±¤ (AI, API, Adapters)
â”‚   â””â”€â”€ index.ts         # Barrel Export
â”‚
â”œâ”€â”€ stores/              # Zustand Stores
â”œâ”€â”€ types/               # TypeScript å‹åˆ¥å®šç¾©
â”œâ”€â”€ utils/               # å·¥å…·å‡½å¼
â”‚   â””â”€â”€ index.ts         # Barrel Export
â””â”€â”€ mocks/               # Mock è³‡æ–™
```

---

## âŒ¨ï¸ å¿«æ·éµ

| å¿«æ·éµ | åŠŸèƒ½ |
|--------|------|
| `V` | é¸å–å·¥å…· |
| `P` | ç•«ç­†å·¥å…· |
| `H` | è¢å…‰ç­†å·¥å…· |
| `E` | æ©¡çš®æ“¦å·¥å…· |
| `T` | æ–‡å­—å·¥å…· |
| `G` | é–‹å•Ÿç« ç¯€å°èˆª |
| `Ctrl + E` | åˆ‡æ›ç·¨è¼¯æ¨¡å¼ (æ•™å¸«) |
| `Ctrl + K` | é–‹å•Ÿ AI å°è©± |
| `Ctrl + Z` | å¾©åŸ |
| `Ctrl + Y` | é‡åš |
| `Ctrl + S` | å„²å­˜ |
| `Ctrl + 0` | é‡ç½®ç¸®æ”¾ |
| `?` | é¡¯ç¤ºå¿«æ·éµèªªæ˜ |

---

## ğŸ› ï¸ æŠ€è¡“æ£§

| é¡åˆ¥ | æŠ€è¡“ | ç”¨é€” |
|-----|------|------|
| **Frontend** | React 19, TypeScript 5.9 | æ ¸å¿ƒæ¡†æ¶ |
| **Build** | Vite (Rolldown) | é«˜æ•ˆèƒ½æ‰“åŒ… |
| **Styling** | TailwindCSS 3.4 | æ¨£å¼ç³»çµ± |
| **State** | React Context + Zustand | ç‹€æ…‹ç®¡ç† |
| **Flow Editor** | @xyflow/react | å­¸ç¿’è·¯å¾‘ç·¨è¼¯ |
| **Rich Text** | Tiptap | å¯Œæ–‡æœ¬ç·¨è¼¯ |
| **Layout** | dagre | è‡ªå‹•ä½ˆå±€æ¼”ç®—æ³• |
| **Icons** | lucide-react | åœ–ç¤ºåº« |
| **EPUB** | epubjs | EPUB è§£æ |
| **Testing** | Vitest | å–®å…ƒ/æ•´åˆæ¸¬è©¦ |

---

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆåƒ…ä¾›å­¸ç¿’èˆ‡æ•™è‚²ç”¨é€”ã€‚
